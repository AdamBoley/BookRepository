{% extends "flask_user_layout.html" %}
{% block content %}
<div class="container">
    {% if call_or_get(current_user.is_authenticated) %}
    <h6>Home&nbsp; > &nbsp;<a href="{{ url_for('member_page') }}">Member's Page</a>&nbsp; > &nbsp;
        <a href="{{ url_for('edit_book', book_id=book.id ) }}">Edit Book</a></h6>
    {% else %}
    <h6><a href="{{ url_for('home_page')}}">Home</a>&nbsp; > &nbsp;<a href="{{ url_for('member_page') }}">Member's
            Page</a>&nbsp; > &nbsp;<a href="{{ url_for('edit_book', book_id=book.id ) }}">Edit Book</a></h6>
    {% endif %}


    <div class="row">
        <form action="{{ url_for('update_book', book_id=book.id) }}" method="POST" class="col s12">
            <div class="row">
                <div class="input-field col s12">
                    <i class="material-icons prefix">title</i>
                    <input id="title" name="title" type="text" class="validate" value="{{book.title}}">
                    <label for="icon_prefix">Book Title</label>
                </div>
            </div>
            <div class="row">
                <div class="input-field col s12">
                    <i class="material-icons prefix">person</i>
                    <input id="author" name="author" type="text" class="validate" value="{{book.author}}">
                    <label for="icon_prefix">Book Author</label>
                </div>
            </div>
            <div class="row">
                <div class="input-field col s12">
                    <i class="material-icons prefix">event</i>
                    <input id="year" name="year" type="number" class="validate" min="1455" max="2050" value="{{book.year}}">
                    <label for="icon_prefix">Book Published</label>
                </div>
            </div>
            <div class="row">
                <div class="input-field col s12">
                    <i class="material-icons prefix">vpn_key</i>
                    <input id="isbn" name="isbn" type="number" class="validate" value="{{book.ISBN}}">
                    <label for="icon_prefix">Book ISBN</label>
                </div>
            </div>
            <div class="row">
                <div class="input-field col s12">
                    <i class="material-icons prefix">description</i>
                    <textarea id="short_description" name="short_description" type="textarea" class="materialize-textarea">{{book.short_description}}</textarea>
                    <label for="icon_prefix">Book Description</label>
                </div>
            </div>
            <div class="row">
                <div class="input-field col s12">
                    <i class="material-icons prefix">comment</i>
                    <textarea id="comments" name="comments" type="textarea" class="materialize-textarea">{{book.comments}}</textarea>
                    <label for="icon_prefix">Book Comments</label>
                </div>
            </div>
            <div class="row">
                <div class="input-field col s12">
                    <i class="material-icons prefix">poll</i>
                    <input id="rating" name="rating" type="text" class="validate" value="{{book.rating}}">
                    <label for="icon_prefix">Book Rating</label>
                </div>
            </div>
            <div class="row">
                <div class="switch">
                    <label>
                        {% if book.private_view %}
                        <input id="private_view" name="private_view" type="checkbox" checked>
                        {% else %}
                        <input id="private_view" name="private_view" type="checkbox">
                        {% endif%}
                        <span class="lever"></span>
                        Private View
                    </label>
                </div>
            </div>
            <div class="row">
                <button class="btn waves-effect waves-light" type="submit" name="action">Update Book
                    <i class="material-icons right">playlist_add</i>
                </button>
            </div>
        </form>
    </div>
</div>
{% endblock %}